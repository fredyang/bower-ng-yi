/**
 * @license ng-yi v0.9
 * (c) 2015 Fred Yang http://semanticsworks.com
 * License: MIT
 */
!function(n){"use strict";var t=n.module("ng-yi",["ngCookies"]);t.directive("yiAttr",function(t){var r=/^yi-data-(.*)/;return function(e,a,u){function i(){for(var n in c){var r=c[n],e=t.get(r,o);a.attr(n,e)}}var o,c=e.$eval(u.yiAttr);n.forEach(u.$attr,function(n,t){var e=r.exec(n);if(e){o=o||{};var a=e[1];u.$observe(t,function(n,r){(n&&n!==r||!o||!o[a])&&(o[a]=u[t],i())})}}),t.onChanged(!o,i,e)}}),t.directive("yi",function(t){var r=/^yi-data-(.*)/;return function(e,a,u){function i(){a.html(t.get(u.yi,o))}var o;n.forEach(u.$attr,function(n,t){var e=r.exec(n);if(e){o=o||{};var a=e[1];u.$observe(t,function(n,r){(n&&n!==r||!o||!o[a])&&(o[a]=u[t],i())})}}),t.onChanged(!o,i,e)}}),t.filter("yi",function(n){function t(t){return n.get(t)}return t.$stateful=!0,t}),t.factory("resource",function(t,r,e){function a(n,t){if(t+="",!o.test(t))return n[t];for(var r=t.split("."),e=n,a=0;a<r.length;a++){var u=e[r[a]];if(void 0===u)return void 0;e=u}return e}function u(n,t){return n.replace(c,function(n,r){var e=t[r];return e})}var i,o=/\./,c=/\{([^\{\}]*)\}/g;r.$watch(function(){return e()},function(n){i=t.get("resource/"+n+".json").then(function(n){return i=n.data,r.$broadcast(f.changedEvent),i})});var f={changedEvent:"resourceChanged",get:function(t,r){if(!i||i&&n.isFunction(i.then))return"";var e=a(i,t);if(r&&(e=u(e,r)),n.isUndefined(e))throw new Error("resource for "+t+" does not exists");return e},onChanged:function(t,r,e){n.isFunction(t)&&(e=r,r=t,t=!0),t&&r(),e.$on(f.changedEvent,r)}};return f}),t.factory("userLanguage",function(n,t,r){function e(n){return 0===arguments.length?i:(n in t.supportedLanguages||(n=a()),i=n,r.put(u,n),void 0)}function a(){var r,e=(n.navigator.language||n.navigator.browserLanguage).substr(0,2);return r=e in t.supportedLanguages?e:t.defaultLanguage}var u=t.cookieName,i=r.get(u);return i||e(a()),e}),t.value("yiConfig",{supportedLanguages:{en:"English"},defaultLanguage:"en",cookieName:"language"})}(angular);
//# sourceMappingURL=yi.min.js.map