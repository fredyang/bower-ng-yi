/**
 * @license ng-yi v0.9
 * (c) 2015 Fred Yang http://semanticsworks.com
 * License: MIT
 */
!function(n){"use strict";var r=n.module("ng-yi",["ngCookies"]);r.directive("yiAttr",function(r){var t=/^yi-data-(.*)/;return function(e,a,u){function o(){for(var n in c){var t=c[n],e=r.get(t,i);a.attr(n,e)}}var i,c=e.$eval(u.yiAttr);n.forEach(u.$attr,function(n,r){var e=t.exec(n);if(e){i=i||{};var a=e[1];u.$observe(r,function(n,t){(n&&n!==t||!i||!i[a])&&(i[a]=u[r],o())})}}),r.onChanged(!i,o,e)}}),r.directive("yi",function(r){var t=/^yi-data-(.*)/;return function(e,a,u){function o(){a.html(r.get(u.yi,i))}var i;n.forEach(u.$attr,function(n,r){var e=t.exec(n);if(e){i=i||{};var a=e[1];u.$observe(r,function(n,t){(n&&n!==t||!i||!i[a])&&(i[a]=u[r],o())})}}),r.onChanged(!i,o,e)}}),r.filter("yi",function(n){function r(r){return n.get(r)}return r.$stateful=!0,r}),r.factory("resource",function(r,t,e,a){function u(n,r){if(r+="",!c.test(r))return n[r];for(var t=r.split("."),e=n,a=0;a<t.length;a++){var u=e[t[a]];if(void 0===u)return void 0;e=u}return e}function o(n,r){return n.replace(f,function(n,t){var e=r[t];return e})}var i,c=/\./,f=/\{([^\{\}]*)\}/g;t.$watch(function(){return e()},function(n){i=r.get(a.resourcePath+n+".json").then(function(n){return i=n.data,t.$broadcast(g.changedEvent),i})});var g={changedEvent:"resourceChanged",get:function(r,t){if(!i||i&&n.isFunction(i.then))return"";var e=u(i,r);if(t&&(e=o(e,t)),n.isUndefined(e))throw new Error("resource for "+r+" does not exists");return e},onChanged:function(r,t,e){n.isFunction(r)&&(e=t,t=r,r=!0),r&&t(),e.$on(g.changedEvent,t)}};return g}),r.factory("userLanguage",function(n,r,t){function e(n){return 0===arguments.length?o:(n in r.supportedLanguages||(n=a()),o=n,t.put(u,n),void 0)}function a(){var t,e=(n.navigator.language||n.navigator.browserLanguage).substr(0,2);return t=e in r.supportedLanguages?e:r.defaultLanguage}var u=r.cookieName,o=t.get(u);return o||e(a()),e}),r.value("yiConfig",{supportedLanguages:{en:"English"},defaultLanguage:"en",cookieName:"language",resourcePath:"resource/"})}(angular);
//# sourceMappingURL=yi.min.js.map